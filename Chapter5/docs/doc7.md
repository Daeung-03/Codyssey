# 리눅스 컨테이너 실행 환경별 차이 및 Windows에서 WSL2가 필요한 이유

## 1. 리눅스 컨테이너 실행 환경 비교

| 구분   | Linux에서 실행                   | Windows에서 실행               | Mac에서 실행                                               |
|--------|----------------------------------|-------------------------------|-----------------------------------------------------------|
| 방식   | 호스트의 Linux 커널 직접 사용    | WSL2(경량 VM)을 통한 Linux 커널 | (과거) 별도 VM 필요<br>(최신) 경량 VM 또는 네이티브(Containerization Framework) |
| 성능   | 최적 (커널 공유)                  | 다소 제한(가상화 계층 존재)     | 다소 제한(가상화 계층 존재, 최근 개선 중)                  |
| 파일 시스템 성능 | 매우 빠름                | 상대적으로 느림               | 상대적으로 느림                                           |
| 호환성 | 완전한 호환                      | WSL2 통해 높은 호환            | 최신 macOS 26 이상에서 높은 호환(Apple Silicon 최적화)     |
| 기타   | 관리 용이, 버그 적음              | 설정 추가/자원 관리 필요        | Docker 등 타사 툴 필요, 최신 지원 확대 중                  |

- **Linux**에서 컨테이너는 VM 없이 호스트의 커널을 공유하여 작동. 성능과 호환성 모두 최고 수준
- **Windows**는 리눅스 커널이 없으므로, WSL2(실제 Linux 커널 기반의 경량 VM) 환경이나 Hyper-V 기반의 VM을 사용. 경량화로 많이 개선됐으나, 여전히 일부 오버헤드 존재
- **Mac**은 기본적으로 리눅스 커널 미포함. 기존에는 Docker Desktop 등에서 별도 VM을 통해 리눅스 컨테이너 구동. macOS 26부터는 Apple Container 프레임워크가 도입되어 경량 VM 또는 네이티브 방식 지원(Apple Silicon 최적화).

---

## 2. Windows에서 리눅스 컨테이너 실행에 WSL2가 필요한 이유

### 2.1 현상 및 한계

- **리눅스 컨테이너**는 리눅스 커널의 기능(네임스페이스, cgroup 등)에 의존.
- Windows OS 자체에는 리눅스 커널이 내장되어 있지 않음.
- Windows에서 단순히 컨테이너 엔진(Docker 등)을 설치해도, 내부적으로는 리눅스 커널이 반드시 필요함.

### 2.2 WSL2의 역할

- **WSL2(Windows Subsystem for Linux 2):**
    - 실제 리눅스 커널을 포함하는 경량 가상 머신(VM)을 사용.
    - 리눅스 시스템 콜, 파일 시스템 등을 완전하게 지원.
    - 호스트 Windows와 파일 시스템과 네트워킹을 유연하게 공유함.
    - 기존 WSL1은 커널없이 호환 계층만 제공 → 주요 컨테이너 기능에 한계가 있었음.

### 2.3 WSL2 도입의 효과

- **컨테이너 개발 및 실행:**
    - 리눅스용 Docker 컨테이너를 별도 VM 없이 Windows 내에서 원활하게 실행.
    - VSCode 등 개발 툴과의 통합 및 빠른 파일 공유 제공.
- **경쟁 VM 대비 장점:**
    - 리소스 사용량 적음, 빠른 실행, 파일 공유 편의성.
    - 개발자들이 리눅스, 윈도우 환경을 동시에 활용 가능.

---

## 3. 실행 원리 요약

- 리눅스 컨테이너는 **항상 리눅스 커널에 의존**하므로, Windows와 Mac에서는 VM 등의 “커널을 제공하는 계층”이 필요.
- Windows에서는 WSL2가, Mac에서는 Docker Desktop의 경량 VM 또는 최신 macOS 26의 Containerization Framework 등이 이 역할을 수행.
- Linux만이 유일하게 **별도 VM 없이** 바로 “네이티브”로 리눅스 컨테이너를 구동.

---
